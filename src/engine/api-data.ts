const data = {"members":{"981937":{"name":"Willem","global_score":0,"completion_day_level":{"4":{"2":{"get_star_ts":"1607060797"},"1":{"get_star_ts":"1607059174"}},"11":{"1":{"get_star_ts":"1607669616"},"2":{"get_star_ts":"1607706564"}},"1":{"2":{"get_star_ts":"1606846860"},"1":{"get_star_ts":"1606803442"}},"8":{"2":{"get_star_ts":"1607408009"},"1":{"get_star_ts":"1607405488"}},"5":{"1":{"get_star_ts":"1607146845"},"2":{"get_star_ts":"1607147228"}},"6":{"1":{"get_star_ts":"1607231568"},"2":{"get_star_ts":"1607231822"}},"10":{"2":{"get_star_ts":"1607714289"},"1":{"get_star_ts":"1607577449"}},"9":{"2":{"get_star_ts":"1607492206"},"1":{"get_star_ts":"1607491473"}},"2":{"1":{"get_star_ts":"1606886085"},"2":{"get_star_ts":"1606886431"}},"12":{"2":{"get_star_ts":"1607755437"},"1":{"get_star_ts":"1607752173"}},"7":{"1":{"get_star_ts":"1607321951"},"2":{"get_star_ts":"1607323682"}},"3":{"2":{"get_star_ts":"1606973631"},"1":{"get_star_ts":"1606973240"}},"13":{"2":{"get_star_ts":"1607843692"},"1":{"get_star_ts":"1607837398"}}},"local_score":126,"last_star_ts":"1607843692","id":"981937","stars":26},"1256572":{"last_star_ts":"1607836386","stars":23,"id":"1256572","global_score":0,"completion_day_level":{"1":{"1":{"get_star_ts":"1607625549"},"2":{"get_star_ts":"1607625961"}},"4":{"1":{"get_star_ts":"1607661533"},"2":{"get_star_ts":"1607665063"}},"5":{"1":{"get_star_ts":"1607691504"},"2":{"get_star_ts":"1607692503"}},"6":{"2":{"get_star_ts":"1607699294"},"1":{"get_star_ts":"1607699041"}},"8":{"1":{"get_star_ts":"1607775155"},"2":{"get_star_ts":"1607782543"}},"12":{"2":{"get_star_ts":"1607765978"},"1":{"get_star_ts":"1607758722"}},"9":{"2":{"get_star_ts":"1607786304"},"1":{"get_star_ts":"1607785853"}},"2":{"1":{"get_star_ts":"1607627237"},"2":{"get_star_ts":"1607628007"}},"10":{"1":{"get_star_ts":"1607792508"},"2":{"get_star_ts":"1607813980"}},"3":{"1":{"get_star_ts":"1607659893"},"2":{"get_star_ts":"1607660507"}},"7":{"1":{"get_star_ts":"1607755090"},"2":{"get_star_ts":"1607755683"}},"13":{"1":{"get_star_ts":"1607836386"}}},"local_score":49,"name":"Stijn De Ketelaere"},"910918":{"name":"hammerlink","id":"910918","stars":26,"last_star_ts":"1607843742","completion_day_level":{"11":{"2":{"get_star_ts":"1607687090"},"1":{"get_star_ts":"1607673538"}},"1":{"2":{"get_star_ts":"1606799783"},"1":{"get_star_ts":"1606799690"}},"4":{"1":{"get_star_ts":"1607059404"},"2":{"get_star_ts":"1607065859"}},"5":{"1":{"get_star_ts":"1607145388"},"2":{"get_star_ts":"1607145611"}},"6":{"2":{"get_star_ts":"1607235572"},"1":{"get_star_ts":"1607235170"}},"8":{"2":{"get_star_ts":"1607405799"},"1":{"get_star_ts":"1607405078"}},"12":{"1":{"get_star_ts":"1607750150"},"2":{"get_star_ts":"1607751901"}},"9":{"1":{"get_star_ts":"1607497221"},"2":{"get_star_ts":"1607498197"}},"10":{"2":{"get_star_ts":"1607583874"},"1":{"get_star_ts":"1607577403"}},"2":{"1":{"get_star_ts":"1606885632"},"2":{"get_star_ts":"1606885867"}},"3":{"2":{"get_star_ts":"1606973072"},"1":{"get_star_ts":"1606972737"}},"7":{"1":{"get_star_ts":"1607343348"},"2":{"get_star_ts":"1607343826"}},"13":{"2":{"get_star_ts":"1607843742"},"1":{"get_star_ts":"1607836140"}}},"local_score":132,"global_score":0},"910810":{"name":"Jeroen Vervaeke","global_score":0,"local_score":83,"completion_day_level":{"5":{"1":{"get_star_ts":"1607188795"},"2":{"get_star_ts":"1607189181"}},"6":{"1":{"get_star_ts":"1607283762"},"2":{"get_star_ts":"1607284250"}},"8":{"1":{"get_star_ts":"1607427865"},"2":{"get_star_ts":"1607436514"}},"11":{"2":{"get_star_ts":"1607705827"},"1":{"get_star_ts":"1607698841"}},"1":{"2":{"get_star_ts":"1606829957"},"1":{"get_star_ts":"1606825663"}},"4":{"1":{"get_star_ts":"1607094203"},"2":{"get_star_ts":"1607105745"}},"3":{"1":{"get_star_ts":"1606993654"},"2":{"get_star_ts":"1606994078"}},"7":{"2":{"get_star_ts":"1607340504"},"1":{"get_star_ts":"1607339570"}},"12":{"2":{"get_star_ts":"1607787359"},"1":{"get_star_ts":"1607785695"}},"2":{"1":{"get_star_ts":"1606907628"},"2":{"get_star_ts":"1606908106"}},"10":{"2":{"get_star_ts":"1607598595"},"1":{"get_star_ts":"1607590763"}},"9":{"2":{"get_star_ts":"1607517490"},"1":{"get_star_ts":"1607516566"}}},"last_star_ts":"1607787359","stars":24,"id":"910810"},"1267334":{"name":"fredericwatteyne","id":"1267334","stars":0,"last_star_ts":0,"local_score":0,"completion_day_level":{},"global_score":0},"981934":{"local_score":72,"completion_day_level":{"5":{"2":{"get_star_ts":"1607354367"},"1":{"get_star_ts":"1607353183"}},"6":{"1":{"get_star_ts":"1607358908"},"2":{"get_star_ts":"1607359686"}},"8":{"1":{"get_star_ts":"1607499832"},"2":{"get_star_ts":"1607505783"}},"11":{"1":{"get_star_ts":"1607692374"},"2":{"get_star_ts":"1607712141"}},"1":{"1":{"get_star_ts":"1606930395"},"2":{"get_star_ts":"1606930660"}},"4":{"2":{"get_star_ts":"1607083084"},"1":{"get_star_ts":"1607079671"}},"7":{"1":{"get_star_ts":"1607431333"},"2":{"get_star_ts":"1607497797"}},"3":{"1":{"get_star_ts":"1607000265"},"2":{"get_star_ts":"1607068352"}},"12":{"2":{"get_star_ts":"1607792364"},"1":{"get_star_ts":"1607771942"}},"2":{"2":{"get_star_ts":"1606933476"},"1":{"get_star_ts":"1606932792"}},"10":{"2":{"get_star_ts":"1607615982"},"1":{"get_star_ts":"1607584842"}},"9":{"1":{"get_star_ts":"1607508217"},"2":{"get_star_ts":"1607516757"}}},"global_score":0,"id":"981934","stars":24,"last_star_ts":"1607792364","name":"Peter De Jonghe"}},"event":"2020","owner_id":"910810"};

const moment = require('moment');

const scoreBoard: {[day: string]: {
        part2Delta: {name: string, deltaMs: number}[];
    }} = {};

for (const member in data.members) {
    const name = data.members[member].name;
    console.log()
    console.log(name)
    const completion = data.members[member].completion_day_level;
    for (const day in completion) {

        if (completion[day]['1'] && completion[day]['2']) {
            if (!scoreBoard[day]) scoreBoard[day] = {part2Delta: []};
            const date2 = moment(parseInt(completion[day]['2'].get_star_ts) * 1000);
            const date1 = moment(parseInt(completion[day]['1'].get_star_ts) * 1000);

            if (day === '13') {
                console.log(date1)
                console.log(date2)
            }
            const deltaMs = date2.valueOf() - date1.valueOf();
            scoreBoard[day].part2Delta.push({name, deltaMs});
            scoreBoard[day].part2Delta.sort((a, b) => a.deltaMs - b.deltaMs);
            console.log('day completed', day, 'delta parts', moment.duration(date2.diff(date1)).toISOString())
        }
    }
}

for (const day in scoreBoard) {
    console.log()
    console.log(day)
    scoreBoard[day].part2Delta.forEach(v => console.log(v.name, moment(v.deltaMs).utc(false).format('HH:mm:ss')))
}